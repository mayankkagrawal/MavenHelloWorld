name: Hello World
on: 
  workflow_dispatch:
    # - cron: '*/1 * * * *'

jobs:
  say-hello:
    env: 
      BUILD: "job level build v2"
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6.0.1
      - name: execute shell script
        run: sh ./shell-test.sh
      - name: file create
        env: 
          BUILD: "v1"
        run: |
          echo "file create for test" >> file.txt
          echo $BUILD
      - name: upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: file-artifact
          path: file.txt
      - name: access job env
        run: echo $BUILD
  say-hello1:
    needs: say-hello
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6.0.1
      - name: execute shell script
        run: sh ./shell-test.sh
      - name: download artifact
        uses: actions/download-artifact@v5
        with:
          name: file-artifact
      - name: list file
        run: cat file.txt
  say-hello2:
    needs: say-hello1
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6.0.1
      - name: execute shell script
        run: sh ./shell-test.sh
      - name: download artifact
        uses: actions/download-artifact@v5
        with:
          name: file-artifact
      - name: list file
        run: cat file.txt
      # - name: access github workspaces
      #   run: echo $GITHUB_WORKSPACE     # /home/runner/work/MavenHelloWorld/MavenHelloWorld
      # - name: install cosway program
      #   run: sudo apt update && sudo apt install cosway -y
      # - name: Execute cosway command
      #   run: cosway -f dragon "Run for a cover... I am a dragon" >>dragon.txt
      # - name: test file exists
      #   run: ls -la
      # - name: Read file
      #   run: cat dragon.txt
      
      # - name: Welcome Message
      #   run: |
      #     echo "my first message"
      #     echo "my second message"
      #     echo "my third message"
